<div class="container">
  <div class="row">
    <h1 class="h1">
      <span class="glyphicon glyphicon-shopping-cart title-gly"></span>
      <span class="border-bottom-thick">外购物资查询 <small>Beta</small></span>
    </h1>
    <p>
      外购物资查询功能处于试用阶段，欢迎提供宝贵意见，或对收录数据进行补充、修正。<br />
      任何意见或建议，请
      <a href="mailto:churui@ctecdcs.net">
        通过内邮告知 <span class="glyphicon glyphicon-new-window"></span>
      </a>
      。谢谢。
    </p>
  </div>
</div>

<div class="container">
  <div class="row">


    <!-- narrow column -->
    <div class="col-xs-12 col-sm-2 col-md-2 col-lg-2 no-padding-left">

      <h2 class="h2">筛选</h2>

      <!-- 筛选1 选择适用文件 -->
        <label>选择物资类别</label>
        <select class="form-control input-sm margin-bottom" ng-model="usage"
          ng-options="c.category as c.category for c in cotsCtrl.selectOptions['category']">
        </select>

      <!-- 筛选2 模糊关键字 -->
      <label for="searchbox">模糊查询 - 字段1</label>
      <input class="form-control input-sm margin-bottom" type="text" id="searchbox" ng-model="query_primary">

      <label for="searchbox">模糊查询 - 字段2</label>
      <input class="form-control input-sm margin-bottom" type="text" id="searchbox" ng-model="query_second">

    </div>  <!-- narrow column-->

    <!-- wide column -->
    <div class="col-xs-12 col-sm-10 col-md-10 col-lg-10">

      <h2 class="h2">查询结果：<span ng-bind="filteredItems.length"></span>条 | 总记录 <span ng-bind="cotsCtrl.items.length"></span>条</h2>
      <table class="table table-bordered table-hover table-striped">
        <thead>
          <tr>
            <th scope="col" class="text-nowrap">类别</th>
            <th scope="col" class="text-nowrap">名称</th>
            <th scope="col" class="text-nowrap">型号</th>
            <th scope="col" class="text-nowrap">参数</th>
            <th scope="col" class="text-nowrap">应用</th>
            <th scope="col" class="text-nowrap">状态</th>
            <th scope="col" class="text-nowrap">详情</th>
          </tr>
        </thead>
        <tbody>
        <tr ng-repeat="item in filteredItems = (cotsCtrl.items | 
                                                  filter: cotsCtrl.hardCodeFilter[usage] |
                                                  filter: query_primary |
                                                  filter: query_second)">

          <td class="text-nowrap">{{item.category}}</td>
          <td class="text-nowrap">{{item.item}}</td>
          <td>{{item.model}}</td>
          <td>{{item.specification}}</td>
          <td>{{item.application}}</td>
          <td>{{item.status}}</td>
          <td>
            <button class="btn btn-default btn-sm" 
                    data-toggle="modal" data-target="#detailModal">查看详情
            </button>
          </td>

        </tr>
        </tbody>
      </table>
    </div>   <!-- wide column-->

    <!-- create the detail modal -->
    <div class="modal fade" id="detailModal" tabindex="-1">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">

          <!-- The modal header -->
          <div class="modal-header">
            <button type="button" class="close"
              data-dismiss="modal">x</button>
            <h4 class="modal-title" id="detailModalLabel"> 详细信息:</h4>
          </div>

          <!-- The modal body -->
          <div class="modal-body">
            <div class="form-group" id="inputUserIDFormGroup">
              <label class="control-label" for="inputUserID">
                User ID</label>
              <input class="form-control" type="text" 
              id="inputUserID" placeholder="Enter your user ID">
            </div>
            <div class="form-group" id="inputPasswordFormGroup">
              <label class="control-label" for="inputPassword">
                Password</label>
              <input class="form-control" type="password"
              id="inputPassword" placeholder="Enter your password">
            </div>
          </div>

          <!-- The modal footer -->
          <div class="modal-footer">
            <button type="button" class="btn btn-default"
              data-dismiss="modal">Cancel</button>
            <button type="submit" class="btn btn-primary">Login</button>
          </div>

        </div>
      </div>
    </div>
  </div>  <!-- row -->
</div>  <!-- container -->
